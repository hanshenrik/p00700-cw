<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Task 3.4</title>
    <script src="https://www.google.com/jsapi"></script>
    <script>
      var e

      google.load('visualization', '1', { packages:['treemap'] })
      google.setOnLoadCallback(drawChart)

      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Location', 'Parent', 'Students', 'Color'],
          ['UK',        null,       500,           0],
          ['OX',       'UK',        100,           0],
          ['OX12',     'OX',         50,           2],
          ['OX14',     'OX',         50,           4],
          ['LA',       'UK',        100,           0],
          ['LA2',      'LA',         25,           8],
          ['LA23',     'LA',         75,          10],
          ['S',        'UK',        300,           0],
          ['S40',      'S',         150,          14],
          ['S1',       'S',         150,          16]
        ])

        tree = new google.visualization.TreeMap(document.getElementById('treeMapContainer'))

        var options = {
          minColor: 'red',
          midColor: 'green',
          maxColor: 'blue',
          headerHeight: 22,
          fontColor: 'black',
          fontSize: 14,
          generateTooltip: showFullTooltip
        }

        function showFullTooltip(row, size, value) {
          return '<div class="tooltip">' + data.getColumnLabel(2) + ': ' + data.getValue(row, 2) + '</div>'
        }


        // google.visualization.events.addListener(tree, 'onmouseover', function() {
        //   var selection = tree.getSelection()
        //   e = event
        //   console.log(event)
        //   console.log(selection)
        // })

        tree.draw(data, options)
      }
    </script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web:400,200" />
    <style>
      body { margin: auto; padding: 30px; text-align: center; }
      div#treeMapContainer { width: 900px; height: 500px; margin: 1em auto; }
      p { font-family: 'Titillium Web'; font-weight: 200; font-size: 24px; margin: 0; }
      div.tooltip { background: rgba(255, 255, 255, 0.6); padding: 10px; }
    </style>
    <meta name="author" content="Hans Henrik GrÃ¸nsleth" />
  </head>
  <body>
    <p>left click: go <em>down</em> one level</p>
    <p>right click: go <em>up</em> one level</p>
    <div id="treeMapContainer"></div>
  </body>
</html>